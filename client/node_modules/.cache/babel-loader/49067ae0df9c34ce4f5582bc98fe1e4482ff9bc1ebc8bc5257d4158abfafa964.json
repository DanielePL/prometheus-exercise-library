{"ast":null,"code":"// src/components/ImportExercises.jsx\nimport React,{useState}from'react';import{importExercises}from'../api/exercises';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImportExercises=()=>{const[file,setFile]=useState(null);const[loading,setLoading]=useState(false);const[result,setResult]=useState(null);const handleFileChange=e=>{setFile(e.target.files[0]);};const handleSubmit=async e=>{e.preventDefault();if(!file)return;setLoading(true);try{const result=await importExercises(file);setResult(result);}catch(error){setResult({error:error.message});}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 p-6 rounded-lg border border-gray-800\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-4\",children:\"Import Exercises\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-400 mb-1\",children:\"Excel File\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx,.xls\",onChange:handleFileChange,className:\"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!file||loading,className:\"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded\",children:loading?'Importing...':'Import Exercises'})]}),result&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:result.error?/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-500\",children:[\"Error: \",result.error]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-green-500\",children:[\"Successfully imported \",result.imported,\" exercises.\",result.errors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-500\",children:[\"Warnings: \",result.errors.length]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-yellow-400 text-sm mt-1\",children:[result.errors.slice(0,5).map((err,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[err.row,\": \",err.error]},index)),result.errors.length>5&&/*#__PURE__*/_jsxs(\"li\",{children:[\"... and \",result.errors.length-5,\" more\"]})]})]})]})})]});};export default ImportExercises;","map":{"version":3,"names":["React","useState","importExercises","jsx","_jsx","jsxs","_jsxs","ImportExercises","file","setFile","loading","setLoading","result","setResult","handleFileChange","e","target","files","handleSubmit","preventDefault","error","message","className","children","onSubmit","type","accept","onChange","disabled","imported","errors","length","slice","map","err","index","row"],"sources":["/Users/danielepauli/PycharmProjects/prometheus-exercise-library/client/src/components/ImportExercises.jsx"],"sourcesContent":["// src/components/ImportExercises.jsx\nimport React, { useState } from 'react';\nimport { importExercises } from '../api/exercises';\n\nconst ImportExercises = () => {\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!file) return;\n\n    setLoading(true);\n    try {\n      const result = await importExercises(file);\n      setResult(result);\n    } catch (error) {\n      setResult({ error: error.message });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-gray-900 p-6 rounded-lg border border-gray-800\">\n      <h2 className=\"text-xl font-bold text-white mb-4\">Import Exercises</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-400 mb-1\">\n            Excel File\n          </label>\n          <input\n            type=\"file\"\n            accept=\".xlsx,.xls\"\n            onChange={handleFileChange}\n            className=\"w-full p-2 bg-gray-800 border border-gray-700 rounded text-white\"\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={!file || loading}\n          className=\"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded\"\n        >\n          {loading ? 'Importing...' : 'Import Exercises'}\n        </button>\n      </form>\n\n      {result && (\n        <div className=\"mt-4\">\n          {result.error ? (\n            <div className=\"text-red-500\">Error: {result.error}</div>\n          ) : (\n            <div className=\"text-green-500\">\n              Successfully imported {result.imported} exercises.\n              {result.errors.length > 0 && (\n                <div className=\"mt-2\">\n                  <p className=\"text-yellow-500\">Warnings: {result.errors.length}</p>\n                  <ul className=\"text-yellow-400 text-sm mt-1\">\n                    {result.errors.slice(0, 5).map((err, index) => (\n                      <li key={index}>{err.row}: {err.error}</li>\n                    ))}\n                    {result.errors.length > 5 && <li>... and {result.errors.length - 5} more</li>}\n                  </ul>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImportExercises;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}